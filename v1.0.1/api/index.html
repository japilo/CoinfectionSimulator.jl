<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · CoinfectionSimulator.jl</title><meta name="title" content="API Reference · CoinfectionSimulator.jl"/><meta property="og:title" content="API Reference · CoinfectionSimulator.jl"/><meta property="twitter:title" content="API Reference · CoinfectionSimulator.jl"/><meta name="description" content="Documentation for CoinfectionSimulator.jl."/><meta property="og:description" content="Documentation for CoinfectionSimulator.jl."/><meta property="twitter:description" content="Documentation for CoinfectionSimulator.jl."/><meta property="og:url" content="https://japilo.github.io/CoinfectionSimulator.jl/api/"/><meta property="twitter:url" content="https://japilo.github.io/CoinfectionSimulator.jl/api/"/><link rel="canonical" href="https://japilo.github.io/CoinfectionSimulator.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CoinfectionSimulator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Disease-Model-Types"><span>Disease Model Types</span></a></li><li><a class="tocitem" href="#Population-Types"><span>Population Types</span></a></li><li><a class="tocitem" href="#Parameter-Types"><span>Parameter Types</span></a></li><li><a class="tocitem" href="#Main-Functions"><span>Main Functions</span></a></li><li><a class="tocitem" href="#Helper-Functions"><span>Helper Functions</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/main/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><h2 id="Disease-Model-Types"><a class="docs-heading-anchor" href="#Disease-Model-Types">Disease Model Types</a><a id="Disease-Model-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Disease-Model-Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.DiseaseModel" href="#CoinfectionSimulator.DiseaseModel"><code>CoinfectionSimulator.DiseaseModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DiseaseModel</code></pre><p>Abstract supertype for all disease models in the simulation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.SIModel" href="#CoinfectionSimulator.SIModel"><code>CoinfectionSimulator.SIModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SIModel &lt;: DiseaseModel</code></pre><p>Susceptible-Infected (SI) disease model.</p><p><strong>Fields</strong></p><ul><li><code>transmission::Float64</code>: Transmission probability</li><li><code>mortality::Float64</code>: Additional mortality rate due to infection</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L8-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.SIRModel" href="#CoinfectionSimulator.SIRModel"><code>CoinfectionSimulator.SIRModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SIRModel &lt;: DiseaseModel</code></pre><p>Susceptible-Infected-Recovered (SIR) disease model.</p><p><strong>Fields</strong></p><ul><li><code>transmission::Float64</code>: Transmission probability</li><li><code>mortality::Float64</code>: Additional mortality rate due to infection</li><li><code>recovery::Float64</code>: Recovery probability</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L28-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.SEIRModel" href="#CoinfectionSimulator.SEIRModel"><code>CoinfectionSimulator.SEIRModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SEIRModel &lt;: DiseaseModel</code></pre><p>Susceptible-Exposed-Infected-Recovered (SEIR) disease model.</p><p><strong>Fields</strong></p><ul><li><code>transmission::Float64</code>: Transmission probability</li><li><code>mortality::Float64</code>: Additional mortality rate due to infection</li><li><code>recovery::Float64</code>: Recovery probability</li><li><code>latency::Int</code>: Number of time steps in exposed state</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L51-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.SEIRSModel" href="#CoinfectionSimulator.SEIRSModel"><code>CoinfectionSimulator.SEIRSModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SEIRSModel &lt;: DiseaseModel</code></pre><p>Susceptible-Exposed-Infected-Recovered-Susceptible (SEIRS) disease model.</p><p><strong>Fields</strong></p><ul><li><code>transmission::Float64</code>: Transmission probability</li><li><code>mortality::Float64</code>: Additional mortality rate due to infection</li><li><code>recovery::Float64</code>: Recovery probability</li><li><code>latency::Int</code>: Number of time steps in exposed state</li><li><code>immunity_loss::Float64</code>: Probability of losing immunity</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L77-L88">source</a></section></article><h2 id="Population-Types"><a class="docs-heading-anchor" href="#Population-Types">Population Types</a><a id="Population-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Population-Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.Individual" href="#CoinfectionSimulator.Individual"><code>CoinfectionSimulator.Individual</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Individual</code></pre><p>Represents a single individual in the population. New individuals can be constructed using the <code>Individual</code> constructor and specifying the number of strains and the age. These new individuals are initialized as susceptible to all strains, but can be modified to other states.</p><p><strong>Fields</strong></p><ul><li><code>state::Matrix{Bool}</code>: Disease states matrix with rows for each strain and columns for [S,E,I,R]</li><li><code>age::Int</code>: Age of the individual</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L107-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.Population" href="#CoinfectionSimulator.Population"><code>CoinfectionSimulator.Population</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Population</code></pre><p>Represents the entire population in the simulation.</p><p><strong>Fields</strong></p><ul><li><code>individuals::Vector{Individual}</code>: Collection of individuals</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L144-L151">source</a></section></article><h2 id="Parameter-Types"><a class="docs-heading-anchor" href="#Parameter-Types">Parameter Types</a><a id="Parameter-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.SimulationParameters" href="#CoinfectionSimulator.SimulationParameters"><code>CoinfectionSimulator.SimulationParameters</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SimulationParameters</code></pre><p>Parameters for a coinfection simulation.</p><p><strong>Fields</strong></p><ul><li><code>models::Vector{&lt;:DiseaseModel}</code>: Disease models for each strain</li><li><code>interactions::Matrix{Float64}</code>: Strain interaction matrix</li><li><code>base_mortality::Float64</code>: Background mortality rate</li><li><code>fecundity::Float64</code>: Mean number of offspring per mature individual</li><li><code>age_maturity::Int</code>: Age at which individuals can reproduce</li><li><code>introduction::Symbol</code>: How strains are introduced (:simultaneous, :random, or :none)</li><li><code>time_steps::Int</code>: Number of time steps to simulate</li><li><code>transmission_type::Symbol</code>: Type of transmission (:frequency (default), or :density)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L188-L202">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.SamplingParameters" href="#CoinfectionSimulator.SamplingParameters"><code>CoinfectionSimulator.SamplingParameters</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SamplingParameters</code></pre><p>Parameters for virtual ecologist sampling.</p><p><strong>Fields</strong></p><ul><li><code>proportion_sampled::Float64</code>: Proportion of the population sampled</li><li><code>false_positive_rate::Float64</code>: Probability of false positive detection</li><li><code>false_negative_rate::Float64</code>: Probability of false negative detection</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/types.jl#L240-L249">source</a></section></article><h2 id="Main-Functions"><a class="docs-heading-anchor" href="#Main-Functions">Main Functions</a><a id="Main-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Main-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.simulate" href="#CoinfectionSimulator.simulate"><code>CoinfectionSimulator.simulate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate(initial_population::Population, params::SimulationParameters) -&gt; Vector{Population}

Simulates multiple pathogen strains spreading through a host population with coinfection dynamics among the strains. Supports both density-dependent and frequency-dependent transmission.</code></pre><p><strong>Arguments</strong></p><ul><li><code>initial_population::Population</code>: Initial population of individuals</li><li><code>params::SimulationParameters</code>: Parameters for the simulation. The fields are:<ul><li><code>models::Vector{&lt;:DiseaseModel}</code>: Disease models for each strain</li><li><code>interactions::Matrix{Float64}</code>: Strain interaction matrix</li><li><code>base_mortality::Float64</code>: Background mortality rate</li><li><code>fecundity::Float64</code>: Mean number of offspring per mature individual</li><li><code>age_maturity::Int</code>: Age (in time steps) at which individuals can reproduce</li><li><code>introduction::Symbol</code>: How strains are introduced (:simultaneous, :random, or :none)</li><li><code>time_steps::Int</code>: Number of time steps to simulate</li><li><code>transmission_type::Symbol</code>: Type of transmission (:density or :frequency, defaults to :frequency)</li></ul></li></ul><p><strong>Returns</strong></p><p>Vector of population states at each time step (Vector{Population})</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulator.jl#L9-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.sample_populations" href="#CoinfectionSimulator.sample_populations"><code>CoinfectionSimulator.sample_populations</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sample_populations(populations::Vector{Population}, params::SamplingParameters) -&gt; Matrix{Bool}</code></pre><p>Sample a series of populations using a virtual ecologist with imperfect detection capabilities.</p><p><strong>Arguments</strong></p><ul><li><code>populations::Vector{Population}</code>: Population data across time steps.</li><li><code>params::SamplingParameters</code>: Parameters controlling the sampling process. The fields are:<ul><li><code>proportion_sampled::Float64</code>: Proportion of the population sampled</li><li><code>false_positive_rate::Float64</code>: Probability of false positive detection</li><li><code>false_negative_rate::Float64</code>: Probability of false negative detection</li></ul></li></ul><p><strong>Returns</strong></p><ul><li><code>Matrix{Bool}</code>: Detection matrix with dimensions (n<em>timesteps, n</em>strains). Each element indicates whether a strain was detected at that time step.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create sample population where all individuals are infected with all strains
pop = Population([Individual(BitMatrix([false false true false]), 20) for _ in 1:100])

# Sample with 50% sampling rate and 10% error rates
detections = sample_populations(
    pop,
    SamplingParameters(0.5, 0.1, 0.1)
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/sampling.jl#L5-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.create_interaction_matrix" href="#CoinfectionSimulator.create_interaction_matrix"><code>CoinfectionSimulator.create_interaction_matrix</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>create<em>interaction</em>matrix(strains::Int,   priority<em>effects::Bool,   interaction</em>strength::Float64;   cf_ratio::Float64=0.5) -&gt; Matrix{Float64}</p><p>Generates a single interaction matrix with specified parameters. Interactions are sampled from a   uniform distribution, whose bounds are defined by the ratio of competition to facilitation in the pathogen community,   and the interaction strength.</p><p><strong>Arguments</strong></p><ul><li><code>strains::Int</code>: Number of strains (matrix size will be strains × strains)</li><li><code>priority_effects::Bool</code>: When <code>true</code>, the interaction matrix is asymmetric (priority effects). When <code>false</code>, the matrix is symmetric (no priority effects).</li><li><code>interaction_strength::Float64</code>: Defines the outer bounds of the interaction multipliers. For example, an interaction strength of 0.1 means that the interaction multipliers will be sampled from a uniform distribution between 0.9 and 1.1. Interaction strength must be between 0 and 1. If interaction strength is 0, all interactions will be set to neutral (1.0) regardless of the <code>cf_ratio</code>.</li><li><code>cf_ratio::Float64</code>: Defines the ratio of facilitation to competition in the interaction matrix. A ratio less than 0.5 means that the matrix will have more competitive interactions, while a ratio greater than 0.5 means that the matrix will have more facilitative interactions. The ratio must be between 0 and 1. The default is 0.5.</li></ul><p><strong>Returns</strong></p><ul><li><code>Matrix{Float64}</code>: An interaction matrix of size strains × strains</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create symmetric 3x3 matrix
matrix = prep_interaction_matrix(3, &quot;symmetric&quot;, 0.5)

# Create asymmetric 2x2 matrix with custom competition/facilitation ratio
matrix = create_interaction_matrix(2, &quot;asymmetric&quot;, 0.3, cf_ratio=0.8)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/data_prep.jl#L10-L44">source</a></section><section><div><p>create<em>interaction</em>matrix(df::DataFrame) -&gt; Vector{Matrix{Float64}}</p><p>Generates interaction matrices for coinfection simulations based on DataFrame parameters. Interactions are sampled from a uniform distribution, whose bounds are defined by the ratio of competition to facilitation in the pathogen community, and the interaction strength.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: DataFrame containing the following required columns:</li><li><code>:interaction_strength</code> (<code>Float64</code>): Defines the outer bounds of the interaction multipliers. For example, an interaction strength of 0.1 means that the interaction multipliers will be sampled from a uniform distribution between 0.9 and 1.1. Interaction strength must be between 0 and 1. If interaction strength is 0, all interactions will be set to neutral (1.0) regardless of the <code>cf_ratio</code>.</li><li><code>:cf_ratio</code> (<code>Float64</code>): Defines the ratio of facilitation to competition in the interaction matrix. A ratio less than 0.5 means that the matrix will have more competitive interactions, while a ratio greater than 0.5 means that the matrix will have more facilitative interactions. The ratio must be between 0 and 1.</li><li><code>:priority_effects</code> (<code>Bool</code>): When <code>true</code>, the interaction matrix is asymmetric (priority effects). When <code>false</code>, the matrix is symmetric (no priority effects).</li><li><code>:strains</code> (<code>Int</code>): Number of strains in the pathogen community (determines interaction matrix dimensions).</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{Matrix{Float64}}</code>: Vector of interaction matrices, one per DataFrame row. Each matrix is <code>strains × strains</code> with diagonal elements = 1.0.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using DataFrames

# Create parameter DataFrame
df = DataFrame(
interaction_strength = [0.1, 0.2],
cf_ratio = [0.3, 0.7],
priority_effects = [true, false],
strains = [3, 4]
)

# Generate interaction matrices
matrices = create_interaction_matrix(df)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/data_prep.jl#L90-L133">source</a></section></article><h2 id="Helper-Functions"><a class="docs-heading-anchor" href="#Helper-Functions">Helper Functions</a><a id="Helper-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Helper-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.age_population!" href="#CoinfectionSimulator.age_population!"><code>CoinfectionSimulator.age_population!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">age_population!(population::Population)</code></pre><p>Age all individuals in the population by one time step in-place.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L460-L464">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.apply_base_mortality!" href="#CoinfectionSimulator.apply_base_mortality!"><code>CoinfectionSimulator.apply_base_mortality!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">apply_base_mortality!(population::Population, alive::Vector{Bool}, base_mortality::Float64, mortality_list::Set{Int})</code></pre><p>Apply background mortality to all living individuals once per time step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.breeding!" href="#CoinfectionSimulator.breeding!"><code>CoinfectionSimulator.breeding!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">breeding!(population::Population, fecundity::Float64, maturity_age::Int)</code></pre><p>Handle reproduction of mature individuals in the population. All individuals at or greater than the age of maturity are able to produce offspring. New individuals are generated via a Poisson distribution and added to the population as susceptibles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.copy_individual" href="#CoinfectionSimulator.copy_individual"><code>CoinfectionSimulator.copy_individual</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">copy_individual(ind::Individual) -&gt; Individual</code></pre><p>Create an efficient copy of an individual, optimized for BitMatrix copying.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L416-L420">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.copy_population" href="#CoinfectionSimulator.copy_population"><code>CoinfectionSimulator.copy_population</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">copy_population(pop::Population) -&gt; Population</code></pre><p>Create an efficient copy of a population optimized for BitMatrix copying.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L395-L399">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.introduce_infections!" href="#CoinfectionSimulator.introduce_infections!"><code>CoinfectionSimulator.introduce_infections!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">introduce_infections!(population::Population, timestep::Int, intro_schedule::Vector{Int})</code></pre><p>Introduce infections into the population according to the introduction schedule. Individuals are randomly chosen and their state is changed from susceptible to infected.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L10-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_disease_mortality!" href="#CoinfectionSimulator.process_disease_mortality!"><code>CoinfectionSimulator.process_disease_mortality!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_disease_mortality!(population::Population, alive::Vector{Bool}, strain::Int,
                          disease_mortality::Float64, mortality_list::Set{Int})</code></pre><p>Process additional mortality due to infection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L365-L370">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_disease_dynamics!" href="#CoinfectionSimulator.process_disease_dynamics!"><code>CoinfectionSimulator.process_disease_dynamics!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_disease_dynamics!(population::Population, params::SimulationParameters, mortality_list::Set{Int})</code></pre><p>Process all disease dynamics for one time step. This function applies base mortality to all individuals, checks which strains are active in the population, and handles disease dynamics for those strains.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_strain!" href="#CoinfectionSimulator.process_strain!"><code>CoinfectionSimulator.process_strain!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_strain!(population::Population, alive::Vector{Bool}, strain::Int,
               model::DiseaseModel, interactions::Vector{Float64}, mortality_list::Set{Int})</code></pre><p>Process disease dynamics for a specific strain based on its disease model. This function uses multiple dispatch to apply the appropriate disease processes to each model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L131-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_exposures!" href="#CoinfectionSimulator.process_exposures!"><code>CoinfectionSimulator.process_exposures!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_exposures!(population::Population, alive::Vector{Bool}, strain::Int,
                  transmission_rate::Float64, interactions::Vector{Float64}, transmission_type::Symbol)</code></pre><p>Process exposures for SEIR/SEIRS models (susceptible to exposed). If a potential new host is infected with another strain, interactions between strains affect the infection pressure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L249-L254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_infections!" href="#CoinfectionSimulator.process_infections!"><code>CoinfectionSimulator.process_infections!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_infections!(population::Population, alive::Vector{Bool}, strain::Int,
                   transmission_rate::Float64, interactions::Vector{Float64}, transmission_type::Symbol)</code></pre><p>Process direct infections for SI/SIR models (susceptible to infected, with no latent period). Interactions with other strains in potential new hosts affect the transmission rate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L191-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_recovery!" href="#CoinfectionSimulator.process_recovery!"><code>CoinfectionSimulator.process_recovery!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_recovery!(population::Population, alive::Vector{Bool}, strain::Int, recovery_rate::Float64)</code></pre><p>Process recovery from infection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L327-L331">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_latent_infections!" href="#CoinfectionSimulator.process_latent_infections!"><code>CoinfectionSimulator.process_latent_infections!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_latent_infections!(population::Population, alive::Vector{Bool}, strain::Int, latency::Int)</code></pre><p>Process transitions from exposed to infected with a probability of 1/latency.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L307-L311">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.process_immunity_loss!" href="#CoinfectionSimulator.process_immunity_loss!"><code>CoinfectionSimulator.process_immunity_loss!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_immunity_loss!(population::Population, alive::Vector{Bool}, strain::Int, immunity_loss_rate::Float64)</code></pre><p>Process loss of immunity after recovery.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L346-L350">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CoinfectionSimulator.remove_dead_individuals!" href="#CoinfectionSimulator.remove_dead_individuals!"><code>CoinfectionSimulator.remove_dead_individuals!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remove_dead_individuals!(population::Population, mortality_list::Set{Int}, alive_indices::Vector{Int})</code></pre><p>Remove dead individuals from population efficiently using pre-allocated temporary storage.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/japilo/CoinfectionSimulator.jl/blob/271bb313266115642013d3500151773385ce3c22/src/simulation_helpers.jl#L429-L433">source</a></section></article><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#CoinfectionSimulator.DiseaseModel"><code>CoinfectionSimulator.DiseaseModel</code></a></li><li><a href="#CoinfectionSimulator.Individual"><code>CoinfectionSimulator.Individual</code></a></li><li><a href="#CoinfectionSimulator.Population"><code>CoinfectionSimulator.Population</code></a></li><li><a href="#CoinfectionSimulator.SEIRModel"><code>CoinfectionSimulator.SEIRModel</code></a></li><li><a href="#CoinfectionSimulator.SEIRSModel"><code>CoinfectionSimulator.SEIRSModel</code></a></li><li><a href="#CoinfectionSimulator.SIModel"><code>CoinfectionSimulator.SIModel</code></a></li><li><a href="#CoinfectionSimulator.SIRModel"><code>CoinfectionSimulator.SIRModel</code></a></li><li><a href="#CoinfectionSimulator.SamplingParameters"><code>CoinfectionSimulator.SamplingParameters</code></a></li><li><a href="#CoinfectionSimulator.SimulationParameters"><code>CoinfectionSimulator.SimulationParameters</code></a></li><li><a href="#CoinfectionSimulator.age_population!"><code>CoinfectionSimulator.age_population!</code></a></li><li><a href="#CoinfectionSimulator.apply_base_mortality!"><code>CoinfectionSimulator.apply_base_mortality!</code></a></li><li><a href="#CoinfectionSimulator.breeding!"><code>CoinfectionSimulator.breeding!</code></a></li><li><a href="#CoinfectionSimulator.copy_individual"><code>CoinfectionSimulator.copy_individual</code></a></li><li><a href="#CoinfectionSimulator.copy_population"><code>CoinfectionSimulator.copy_population</code></a></li><li><a href="#CoinfectionSimulator.create_interaction_matrix"><code>CoinfectionSimulator.create_interaction_matrix</code></a></li><li><a href="#CoinfectionSimulator.introduce_infections!"><code>CoinfectionSimulator.introduce_infections!</code></a></li><li><a href="#CoinfectionSimulator.process_disease_dynamics!"><code>CoinfectionSimulator.process_disease_dynamics!</code></a></li><li><a href="#CoinfectionSimulator.process_disease_mortality!"><code>CoinfectionSimulator.process_disease_mortality!</code></a></li><li><a href="#CoinfectionSimulator.process_exposures!"><code>CoinfectionSimulator.process_exposures!</code></a></li><li><a href="#CoinfectionSimulator.process_immunity_loss!"><code>CoinfectionSimulator.process_immunity_loss!</code></a></li><li><a href="#CoinfectionSimulator.process_infections!"><code>CoinfectionSimulator.process_infections!</code></a></li><li><a href="#CoinfectionSimulator.process_latent_infections!"><code>CoinfectionSimulator.process_latent_infections!</code></a></li><li><a href="#CoinfectionSimulator.process_recovery!"><code>CoinfectionSimulator.process_recovery!</code></a></li><li><a href="#CoinfectionSimulator.process_strain!"><code>CoinfectionSimulator.process_strain!</code></a></li><li><a href="#CoinfectionSimulator.remove_dead_individuals!"><code>CoinfectionSimulator.remove_dead_individuals!</code></a></li><li><a href="#CoinfectionSimulator.sample_populations"><code>CoinfectionSimulator.sample_populations</code></a></li><li><a href="#CoinfectionSimulator.simulate"><code>CoinfectionSimulator.simulate</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Wednesday 27 August 2025 14:49">Wednesday 27 August 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
